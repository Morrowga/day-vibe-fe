"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[218],{3084:function(e,t,n){var r=n(4836);t.Z=void 0;var o=r(n(3564)),i=n(5893);t.Z=(0,o.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle")},2522:function(e,t,n){var r=n(4836);t.Z=void 0;var o=r(n(3564)),i=n(5893);t.Z=(0,o.default)((0,i.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},3771:function(e,t,n){var r=n(4836);t.Z=void 0;var o=r(n(3564)),i=n(5893);t.Z=(0,o.default)((0,i.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2M1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2"}),"ShoppingCart")},1930:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(7294),o=n(512),i=n(4780),s=n(4342),a=n(9436),l=n(3499),c=n(1588),d=n(4867);function h(e){return(0,d.ZP)("MuiCardActionArea",e)}let u=(0,c.Z)("MuiCardActionArea",["root","focusVisible","focusHighlight"]);var x=n(3730),p=n(5893);let g=e=>{let{classes:t}=e;return(0,i.Z)({root:["root"],focusHighlight:["focusHighlight"]},h,t)},f=(0,s.ZP)(x.Z,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(e,t)=>t.root})((0,a.Z)(e=>{let{theme:t}=e;return{display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",["&:hover .".concat(u.focusHighlight)]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},["&.".concat(u.focusVisible," .").concat(u.focusHighlight)]:{opacity:(t.vars||t).palette.action.focusOpacity}}})),m=(0,s.ZP)("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(e,t)=>t.focusHighlight})((0,a.Z)(e=>{let{theme:t}=e;return{overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})}}));var v=r.forwardRef(function(e,t){let n=(0,l.i)({props:e,name:"MuiCardActionArea"}),{children:r,className:i,focusVisibleClassName:s,...a}=n,c=g(n);return(0,p.jsxs)(f,{className:(0,o.Z)(c.root,i),focusVisibleClassName:(0,o.Z)(s,c.focusVisible),ref:t,ownerState:n,...a,children:[r,(0,p.jsx)(m,{className:c.focusHighlight,ownerState:n})]})})},6517:function(e,t,n){n.d(t,{Z:function(){return b}});var r,o=n(7294),i=n(512),s=n(4780),a=n(5990),l=n(3475),c=n(5024),d=n(9623),h=n(4342),u=n(9436),x=n(3499),p=n(1588),g=n(4867);function f(e){return(0,g.ZP)("MuiInputAdornment",e)}let m=(0,p.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var v=n(5893);let Z=e=>{let{classes:t,disablePointerEvents:n,hiddenLabel:r,position:o,size:i,variant:l}=e,c={root:["root",n&&"disablePointerEvents",o&&"position".concat((0,a.Z)(o)),l,r&&"hiddenLabel",i&&"size".concat((0,a.Z)(i))]};return(0,s.Z)(c,f,t)},j=(0,h.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t["position".concat((0,a.Z)(n.position))],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((0,u.Z)(e=>{let{theme:t}=e;return{display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{["&.".concat(m.positionStart,"&:not(.").concat(m.hiddenLabel,")")]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}}));var b=o.forwardRef(function(e,t){let n=(0,x.i)({props:e,name:"MuiInputAdornment"}),{children:s,className:a,component:h="div",disablePointerEvents:u=!1,disableTypography:p=!1,position:g,variant:f,...m}=n,b=(0,d.Z)()||{},y=f;f&&b.variant,b&&!y&&(y=b.variant);let C={...n,hiddenLabel:b.hiddenLabel,size:b.size,disablePointerEvents:u,position:g,variant:y},w=Z(C);return(0,v.jsx)(c.Z.Provider,{value:null,children:(0,v.jsx)(j,{as:h,ownerState:C,className:(0,i.Z)(w.root,a),ref:t,...m,children:"string"!=typeof s||p?(0,v.jsxs)(o.Fragment,{children:["start"===g?r||(r=(0,v.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"​"})):null,s]}):(0,v.jsx)(l.Z,{color:"textSecondary",children:s})})})})},2749:function(e,t,n){var r=n(5893);n(7294);var o=n(7199),i=n(9370);t.Z=()=>(0,r.jsxs)(o.Z,{sx:{position:"fixed",top:0,left:0,width:"100%",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",zIndex:9999},children:[(0,r.jsx)(o.Z,{component:"img",src:"/images/G.png",alt:"Loading...",sx:{width:200,height:145}}),(0,r.jsx)(i.Z,{sx:{color:"#053020",marginTop:4}})]})},3218:function(e,t,n){n.d(t,{Z:function(){return R}});var r=n(5893),o=n(7294),i=n(4224),s=n(613),a=n(1930),l=n(7199),c=n(3084),d=n(4342),h=n(3475);let u=(0,d.ZP)(i.Z)(e=>{let{theme:t}=e;return{width:"100%",borderRadius:t.spacing(2),overflow:"hidden",boxShadow:"rgba(0, 0, 0, 0.05) 0px 1px 5px",transition:"transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out",position:"relative","&:hover":{transform:"translateY(-4px)",boxShadow:"rgba(0, 0, 0, 0.1) 0px 5px 15px"}}}),x=(0,d.ZP)(l.Z)(e=>{let{theme:t}=e;return{position:"absolute",top:8,right:8,backgroundColor:t.palette.primary.main,color:"#fff",borderRadius:"50%",padding:4,display:"flex",justifyContent:"center",alignItems:"center",zIndex:2,boxShadow:"0 2px 4px rgba(0,0,0,0.2)",border:"2px solid white",transition:"transform 0.2s",transform:"scale(1)","&:hover":{transform:"scale(1.1)"}}}),p=(0,d.ZP)(l.Z)(e=>{let{theme:t}=e;return{position:"absolute",bottom:0,left:0,right:0,padding:t.spacing(1.5),background:"linear-gradient(transparent, rgba(0,0,0,0.7))",color:"#fff",zIndex:1}});var g=e=>{let{img:t,onAddToCart:n,isIncludeInCart:o}=e;return(0,r.jsxs)(u,{children:[(0,r.jsx)(a.Z,{onClick:n,children:(0,r.jsxs)(l.Z,{sx:{position:"relative"},children:[(0,r.jsx)(s.Z,{component:"img",image:t.length>0?t[0].url:"",alt:"item",sx:{width:"100%",height:"auto",display:"block"}}),(0,r.jsx)(p,{children:(0,r.jsx)(l.Z,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"auto auto",gap:.5},children:(0,r.jsx)(h.Z,{variant:"caption",sx:{textAlign:"left",fontWeight:"bold"},children:"2.5 x 2.5"})})})]})}),o&&(0,r.jsx)(x,{children:(0,r.jsx)(c.Z,{sx:{fontSize:20}})})]})},f=n(564),m=n(1387),v=n(6517),Z=n(9304),j=n(2833),b=n(9370),y=n(3771),C=n(2522),w=n(8969),I=n(6801),S=n(5007),k=n(7694),A=n(2749),R=e=>{let{category:t}=e,[n,i]=(0,o.useState)(!1),[s,a]=(0,o.useState)(""),c=(0,S.I0)(),d=(0,S.v9)(e=>e.cart.items),{data:u,status:x,allProducts:p,currentPage:R,hasMore:P,loadingMore:E}=(0,S.v9)(e=>e.product),M=(0,o.useRef)(null),z=(0,o.useRef)(null),L=()=>i(e=>!e),H=e=>"".concat(e,"_").concat(Date.now()),N=e=>{let t=H(e.id);c((0,I.jX)({...e,cart_id:t,quantity:1,size:null}))},T=e=>{a(e.target.value)},O=()=>{c((0,k.GC)()),c((0,k.t2)({category:t,q:s,page:1}))},_=e=>{"Enter"===e.key&&O()},F=(0,o.useCallback)(()=>{console.log("Load more triggered:",{hasMore:P,loadingMore:E,currentPage:R}),P&&!E&&(console.log("Fetching next page:",R+1),c((0,k.t2)({category:t,q:s,page:R+1,isLoadingMore:!0})))},[c,t,s,R,P,E]);return((0,o.useEffect)(()=>{let e=setTimeout(()=>{(M.current&&M.current.disconnect(),z.current)?(console.log("Setting up observer with loading ref:",z.current),M.current=new IntersectionObserver(e=>{console.log("Observer triggered, entries:",e.map(e=>e.isIntersecting)),e[0].isIntersecting&&(console.log("Loading indicator is visible"),F())},{root:null,rootMargin:"0px",threshold:.1}),M.current.observe(z.current),console.log("Observer attached to loading element")):console.error("Loading ref not available")},500);return()=>{clearTimeout(e),M.current&&(M.current.disconnect(),console.log("Observer detached"))}},[F,P]),(0,o.useEffect)(()=>{console.log("Initial load for category:",t),c((0,k.GC)()),c((0,k.t2)({category:t,page:1}))},[c,t]),(0,o.useEffect)(()=>{console.log("Current Redux state:",{currentPage:R,hasMore:P,loadingMore:E,productsCount:p.length})},[R,P,E,p.length]),"loading"===x)?(0,r.jsx)(A.Z,{}):"failed"===x?(0,r.jsx)("div",{children:"Error loading products"}):0===p.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Z,{children:(0,r.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:{lg:"5vh",sm:"10vh",xs:"5vh"},transition:"margin-top 1s",mx:{lg:10,xs:3,sm:10}},children:[(0,r.jsx)(m.Z,{placeholder:"ရှာရန်...",fullWidth:!0,value:s,onChange:T,onKeyPress:_,InputProps:{sx:{borderRadius:20},endAdornment:(0,r.jsx)(v.Z,{position:"end",children:(0,r.jsx)(Z.Z,{onClick:O,edge:"end",sx:{mr:.5},children:(0,r.jsx)(C.Z,{})})})}}),(0,r.jsx)(l.Z,{sx:{mx:2},children:(0,r.jsx)(j.Z,{badgeContent:d.length,color:"primary",children:(0,r.jsx)(Z.Z,{color:"info",onClick:L,children:(0,r.jsx)(y.Z,{})})})})]})}),(0,r.jsx)(l.Z,{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh",children:(0,r.jsx)(h.Z,{variant:"h6",color:"textSecondary",children:"မရှိသေးပါ။"})})]}):(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(f.Z,{children:(0,r.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:{lg:"5vh",sm:"10vh",xs:"5vh"},transition:"margin-top 1s",mx:{lg:10,xs:3,sm:10},mb:3},children:[(0,r.jsx)(m.Z,{placeholder:"ရှာရန်...",fullWidth:!0,value:s,onChange:T,onKeyPress:_,InputProps:{sx:{borderRadius:20},endAdornment:(0,r.jsx)(v.Z,{position:"end",children:(0,r.jsx)(Z.Z,{onClick:O,edge:"end",sx:{mr:.5},children:(0,r.jsx)(C.Z,{})})})}}),(0,r.jsx)(l.Z,{sx:{mx:2},children:(0,r.jsx)(j.Z,{badgeContent:d.length,color:"primary",children:(0,r.jsx)(Z.Z,{color:"info",onClick:L,children:(0,r.jsx)(y.Z,{})})})})]})}),(0,r.jsx)(l.Z,{children:(0,r.jsxs)(l.Z,{sx:{mx:{lg:2,xs:1,sm:3}},children:[(0,r.jsx)(l.Z,{className:"pinterest-container",sx:{columnCount:{xs:2,sm:3,md:4,lg:5},columnGap:"16px",width:"100%","& > *":{breakInside:"avoid",marginBottom:"16px",display:"block",width:"100%"}},children:p.map(e=>{let t=d.some(t=>t.id===e.id);return(0,r.jsx)("div",{children:(0,r.jsx)(g,{img:e.image_urls,isIncludeInCart:t,onAddToCart:()=>N(e)})},e.id)})}),(0,r.jsx)(l.Z,{ref:z,sx:{display:"flex",justifyContent:"center",my:3,py:2,width:"100%",height:"50px",clear:"both",marginTop:"20px",position:"relative",zIndex:1},children:E?(0,r.jsx)(b.Z,{size:40}):P?(0,r.jsx)(l.Z,{width:"100%",height:"40px",display:"flex",justifyContent:"center",children:(0,r.jsx)(h.Z,{variant:"body2",color:"text.secondary",children:"အောက်ကိုဆွဲကြည့်ပါ"})}):(0,r.jsx)(h.Z,{variant:"body2",color:"text.secondary",children:"..."})})]})}),(0,r.jsx)(w.Z,{isOpen:n,updateInfo:!1,onClose:L,cartItems:d,updateCartItem:(e,t)=>c((0,I.$R)({cart_id:e,quantity:t}))})]})}}}]);